# theMinutesBoard

Google Meetの会議内容を自動的に記録し、AI を使用してリアルタイムで議事録を生成する Chrome 拡張機能

## 主な機能

### 🎙️ リアルタイム文字起こし記録
- Google Meetの字幕機能を利用した発言内容の自動記録
- 話者名を含む正確な発言記録
- 利用者本人の発言も正しく記録（「あなた」を実際の名前に変換）

### 📝 AI議事録生成
- 複数のAIプロバイダーに対応（Gemini、OpenAI、Claude、OpenRouter）
- ライブ表示用と履歴保存用の2種類の議事録生成
- ワンクリックで構造化された議事録を生成
- タイムスタンプ付き見出しによる時系列整理
- 決定事項、保留事項、アクションアイテムの自動抽出
- 議題ごとの折りたたみ可能なセクション表示
- 最新議題を上部に配置（時系列の逆順）
- 各議題の経過時間・所要時間を表示
- 会議終了時に自動で履歴用議事録を生成

### 📡 ライブダイジェスト機能
- 会議中の瞬時確認用のリアルタイム要約
- 前回更新から今回更新までの会話内容のみを対象
- 階層的情報表示（要約、詳細、発言記録）
- 発言記録はデフォルトで折りたたみ表示

### ✅ ネクストステップ管理
- ToDoの自動抽出と管理
- 相対日付（「来週まで」等）を絶対日付に自動変換
- 担当者と期限を常に表示（未定義は赤字で強調）
- AI提案タスクとユーザー指示タスクを視覚的に区別
- 優先度（高/中/低）の設定

### 💬 AIチャットアシスタント
- 会議内容に関する質問応答
- 議事録の編集支援（「決定事項を箇条書きにして」等）
- リアルタイムでの会議進行支援

### 🔍 リサーチ機能
- 会議内容に基づくAIリサーチ
- 音声入力対応（録画ボタンスタイルのUI）
- Web検索機能（オプション、デフォルトOFF）
- 過去の議事録からの関連情報検索
- コンテクスト最適化により大規模な議事録でも高速応答

### 📱 レスポンシブデザイン
- PC、タブレット、スマートフォンに対応
- 3分割レイアウト（議事録/ネクストステップ/リサーチ）
- モバイルではタブUI切り替え
- パネルサイズの調整可能
- 議題セクションの折りたたみ機能

### 🔄 自動更新機能
- 議事録とネクストステップを定期的に自動更新
- 更新間隔：OFF、1分～15分から選択可能（2分推奨）
- 視覚的なカウントダウン表示

### 🛡️ 安定性とエラー対策
- Extension context invalidatedエラーの自動回復
- 長時間利用時の自動ストレージ管理
- APIタイムアウトとリトライ機能
- ユーザーフレンドリーなエラーメッセージ

## インストール方法

1. リポジトリをクローン
```bash
git clone https://github.com/Klee319/theMinutesBoard.git
cd theMinutesBoard
```

2. 依存関係のインストール
```bash
npm install
```

3. ビルド
```bash
npm run build
```

4. Chrome拡張機能として読み込み
   - Chromeで `chrome://extensions/` を開く
   - 「デベロッパーモード」を有効化
   - 「パッケージ化されていない拡張機能を読み込む」をクリック
   - `dist` フォルダを選択

## 使い方

### 初期設定
1. 拡張機能のアイコンをクリックし、「設定」を開く
2. 使用するAIサービスを選択（Gemini推奨）
3. APIキーを入力
4. 利用者名を設定（オプション）
5. 自動更新間隔を設定（1～15分から選択、デフォルト：2分）

### 基本的な使い方
1. Google Meetの会議に参加
2. 字幕をONにする
3. 拡張機能から「記録開始」をクリック
4. 会議が進行すると自動的に発言を記録
5. 「議事録生成」をクリックしてAI議事録を作成
6. ライブダイジェストが議事録上部に表示され、現在の議論を瞬時に確認可能
7. 必要に応じて「ネクストステップ生成」をクリック

### 議事録の閲覧
1. 最新の議題が一番上に表示される（進行中バッジ付き）
2. 各議題をクリックして詳細を展開/折りたたみ
3. 各議題には時刻、タイトル、要約、経過時間が表示
4. ライブダイジェストで現在進行中の議論を素早く確認

### AIチャット・リサーチ機能の使い方
1. チャットパネルで議事録の編集指示や質問を入力
2. リサーチパネルで会議内容に関する詳細な調査を実行
3. 音声入力も可能（マイクボタンをクリック）

## 必要な環境

- Google Chrome（最新版推奨）
- Google Meetの会議
- AIサービスのAPIキー（以下のいずれか）
  - Google Gemini API
  - OpenAI API
  - Anthropic Claude API
  - OpenRouter API

## 技術スタック

- **フロントエンド**: React 18 + TypeScript
- **スタイリング**: Tailwind CSS
- **ビルドツール**: Vite
- **拡張機能**: Chrome Extension Manifest V3
- **AI統合**: 複数のAIプロバイダーAPI
- **コード品質**: 共通定数の集約化、関数のモジュール化

## 開発

### 開発モードでの実行
```bash
npm run dev
```

### システムプロンプトの更新
```bash
node scripts/build-prompts.js
```

#### システムプロンプトの種類

- `live-minutes-generation.md` - ライブ表示用（JSON形式出力）
- `history-minutes-generation.md` - 履歴保存用（詳細マークダウン形式）
- `minutes-generation.md` - デフォルト議事録生成用
- `nextsteps-generation.md` - ネクストステップ生成用
- `chat-assistant.md` - AIチャットアシスタント用

#### システムプロンプトで利用可能なプレースホルダー

システムプロンプト（`src/system-prompts/`内のマークダウンファイル）では、以下のプレースホルダーが利用可能です：

- `{{userName}}` - ユーザー名（「Unknown」発言者の置換用）
- `{{meetingDate}}` - 会議日（YYYY-MM-DD形式）
- `{{startTime}}` - 会議開始時刻（日本語形式）
- `{{participants}}` - 参加者リスト（カンマ区切り）
- `{{duration}}` - 会議時間（「1時間30分」形式）
- `{{transcripts}}` - 発言記録（整形済み）
- `{{speakerMap}}` - 話者マップ（JSON形式）
- `{{currentTime}}` - 現在時刻（議事録更新時刻）

これらのプレースホルダーは、議事録生成とネクストステップ生成の両方で使用できます。

### 型チェック
```bash
npm run type-check
```

## ライセンス

MIT License

## 貢献

プルリクエストや Issue の報告を歓迎します。

## 作者

Klee319

---

最終更新日: 2025年1月30日

## 更新履歴

### v2.2.0 (2025年1月30日)
- 🎯 議事録表示を議題ごとの折りたたみ形式に改善
- ⏱️ 各議題の経過時間・所要時間表示を追加
- 📊 最新議題を上部に配置する逆時系列表示
- 🚀 リサーチ機能のコンテクスト最適化（大規模議事録でも高速化）
- 🗑️ AIアシスタントボタンを削除（機能はチャット・リサーチパネルに統合）

### v2.1.0 (2025年1月26日)
- 🆕 ライブダイジェスト機能を追加
- 🔄 議題セクションの折りたたみ機能を実装
- 🔧 ハードコードされた値を定数化
- 🗑️ 不要なバックアップファイルを削除

### v2.0.0 (2025年1月25日)
- 全主要機能の実装完了