# theMinutesBoard タスク管理書

## 概要
このドキュメントは、theMinuteBoardの品質向上に向けたバグ修正および新機能実装のタスク管理を行うものです。

## タスク実行フロー
1. バグ修正（優先度：高）
2. 新機能実装（優先度：中）
3. テスト・品質保証
4. デプロイ準備

## 1. バグ修正タスク

### 1.1 参加者本人の記録バグ修正
- [ ] **問題分析**
  - Google MeetのDOMで「あなた」と表示される要素の特定（processCaptions メソッド内）
  - 現在の話者判定ロジックの確認（line 649-657で「あなた」は処理済み）
- [ ] **実装**
  - Chrome storage.syncにuserName設定を追加
  - オプション画面でユーザー名入力欄を追加
  - processCaptions内で「あなた」を設定した名前に置換（最小限の変更）
- [ ] **テスト**
  - 複数の参加者での動作確認
  - 利用者本人の発言が正しく記録されることを確認

### 1.2 記録状態の永続化バグ修正
- [ ] **問題分析**
  - Chrome storageでの状態管理確認
  - ページリロード時の状態復元処理の確認
- [ ] **実装**
  - chrome.storage.localを使用した記録状態の永続化
  - background scriptでの状態管理強化
  - content scriptとbackground script間の通信改善
- [ ] **テスト**
  - ページリロード後も記録状態が維持されることを確認
  - 異なるタブ間での状態同期確認

### 1.3 停止ボタンの動作バグ修正
- [ ] **問題分析**
  - 停止ボタンのイベントハンドラー確認
  - 状態更新のフローを追跡
- [ ] **実装**
  - 停止処理の同期化
  - UIの状態と内部状態の一致を保証
  - エラーハンドリングの強化
- [ ] **テスト**
  - 停止ボタンクリック後の動作確認
  - 連続クリックへの対応確認

### 1.4 議事録更新の継続処理バグ修正
- [ ] **問題分析**
  - AI API呼び出しの状態管理確認
  - 生成中フラグの更新タイミング確認
- [ ] **実装**
  - API呼び出しの完了/エラー時の状態リセット
  - 生成中フラグの適切な管理
  - 重複呼び出しの防止機構
- [ ] **テスト**
  - 連続更新要求の処理確認
  - エラー発生時の復旧確認

### 1.5 APIキー設定の永続化バグ修正
- [ ] **問題分析**
  - Chrome storage内のAPIキー保存確認
  - 拡張機能ポップアップでの読み込み処理確認
- [ ] **実装**
  - storage.sync APIを使用した確実な保存
  - ポップアップ起動時の初期化処理改善
  - エラーメッセージの改善
- [ ] **テスト**
  - APIキー設定後の永続性確認
  - 異なるデバイス間での同期確認

### 1.6 拡張機能利用者名の取得実装
- [ ] **設計**
  - Google Meetのユーザー情報取得方法の調査
  - Chrome identity APIの活用検討
- [ ] **実装**
  - ユーザー名取得機能の実装
  - フォールバック処理（手動設定）の実装
  - 設定画面でのユーザー名管理
- [ ] **テスト**
  - 自動取得の動作確認
  - 手動設定の動作確認

### 1.7 時刻・会議時間の自動取得実装
- [ ] **設計**
  - 会議開始/終了時刻の記録方法決定
  - タイムゾーン対応の検討
- [ ] **実装**
  - 記録開始時のタイムスタンプ保存
  - 経過時間の計算・表示
  - 議事録への時刻情報埋め込み
- [ ] **テスト**
  - 正確な時刻記録の確認
  - 長時間会議での動作確認

## 2. 新機能実装タスク

### 2.1 レスポンシブデザインの実装
- [ ] **設計**
  - ブレークポイントの定義（スマホ/タブレット/PC）
  - モバイルUIのワイヤーフレーム作成
- [ ] **実装**
  - Tailwind CSSのレスポンシブクラス適用
  - モバイル専用UIコンポーネントの作成
  - タッチ操作への対応
- [ ] **テスト**
  - 各デバイスサイズでの表示確認
  - タッチ操作の動作確認

### 2.2 AIチャット機能の実装
- [ ] **設計**
  - チャットUIの設計
  - AIへのコンテキスト渡し方法の設計
  - 会話履歴の管理方法決定
- [ ] **実装**
  - チャットコンポーネントの作成
  - 字幕データのリアルタイム送信機能
  - AI応答の表示機能
  - 過去の議事録検索機能
- [ ] **テスト**
  - リアルタイム処理の動作確認
  - AI応答の品質確認

### 2.3 3カラムレイアウトの実装
- [ ] **設計**
  - レイアウト構成の詳細設計
  - リサイズ・折りたたみ機能の設計
- [ ] **実装**
  - 3カラムレイアウトコンポーネント
  - ドラッグによるリサイズ機能
  - カラムの表示/非表示切り替え
  - モバイル時の1カラム表示
- [ ] **テスト**
  - 各種画面サイズでの動作確認
  - パフォーマンステスト

### 2.4 ネクストステップ管理機能の実装
- [ ] **設計**
  - ネクストステップのデータ構造設計
  - システムプロンプトの設計
  - UI/UXの設計
- [ ] **実装**
  - ネクストステップコンポーネント
  - ToDo項目の管理機能（担当者、期限）
  - 未確定項目の赤字表示
  - システムプロンプトファイルの作成
  - ユーザープロンプト入力機能
- [ ] **テスト**
  - ToDo管理の動作確認
  - AI生成の品質確認

## 3. 品質保証タスク

### 3.1 統合テスト
- [ ] 全バグ修正の統合動作確認
- [ ] 新機能の統合動作確認
- [ ] パフォーマンステスト
- [ ] メモリリークチェック

### 3.2 ユーザビリティテスト
- [ ] UIの使いやすさ確認
- [ ] エラーメッセージの適切性確認
- [ ] ヘルプ・ガイダンスの充実度確認

### 3.3 セキュリティレビュー
- [ ] APIキーの安全な管理確認
- [ ] データの暗号化確認
- [ ] 権限の最小化確認

## 4. 完了基準

### バグ修正の完了基準
- すべての記載されたバグが解消されていること
- 回帰テストで新たなバグが発生していないこと
- エラーログが適切に記録されること

### 新機能の完了基準
- 仕様書通りの機能が実装されていること
- UIがレスポンシブで使いやすいこと
- パフォーマンスが許容範囲内であること

## 5. 進捗管理

### 日次確認項目
- 完了したタスクのチェック
- 発生した課題の記録
- 翌日の優先順位確認

### 週次確認項目
- 全体進捗の確認
- リスク評価
- スケジュール調整

---

更新日: 2025年1月6日
バージョン: 1.0.0